# ğŸ” ä»£ç å®¡æŸ¥æŠ¥å‘Š - Rhino AI Render Panel

**å®¡æŸ¥æ—¥æœŸ**: 2024-12-16
**å®¡æŸ¥èŒƒå›´**: å…¨é¡¹ç›®ä»£ç å®¡æŸ¥ï¼ˆå« Rhino è¿è¡Œç¯å¢ƒéªŒè¯ï¼‰
**é¡¹ç›®ç‰ˆæœ¬**: v1.0.0
**å‚è€ƒæ–‡æ¡£**: RhinoCommon API Docs, developer.rhino3d.com

---

## ğŸ“Š æ•´ä½“è¯„ä»·

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| **æ¶æ„è®¾è®¡** | â­â­â­â­ | æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼ŒèŒè´£æ˜ç¡® |
| **ä»£ç è´¨é‡** | â­â­â­â­ | ä»£ç æ•´æ´ï¼Œå‘½åè§„èŒƒ |
| **Rhino å…¼å®¹æ€§** | â­â­â­â­ | åŸºæœ¬ç¬¦åˆ Rhino 8 å¼€å‘è§„èŒƒ |
| **çº¿ç¨‹å®‰å…¨æ€§** | â­â­â­ | éœ€è¦åŠ å¼º UI çº¿ç¨‹å¤„ç† |
| **å®‰å…¨æ€§** | â­â­â­ | éœ€è¦æ”¹è¿› API Key å¤„ç† |
| **å®Œæˆåº¦** | â­â­â­ | GeminiProvider ä»…æ˜¯éª¨æ¶ |

---

## ğŸ¦ Rhino ç¯å¢ƒå…¼å®¹æ€§å®¡æŸ¥

åŸºäº RhinoCommon å®˜æ–¹æ–‡æ¡£å’Œ developer.rhino3d.com çš„æœ€ä½³å®è·µè¿›è¡ŒéªŒè¯ã€‚

### âœ… ç¬¦åˆ Rhino è§„èŒƒçš„éƒ¨åˆ†

#### 1. æ­£ç¡®çš„æ’ä»¶ç»“æ„

é¡¹ç›®ä½¿ç”¨äº†æ ‡å‡†çš„ Rhino 8 æ’ä»¶ç»“æ„ï¼š

- âœ… ç»§æ‰¿è‡ª `PlugIn` åŸºç±»
- âœ… æ­£ç¡®ä½¿ç”¨ `[assembly: Guid(...)]` å±æ€§
- âœ… æ­£ç¡®å®ç° `OnLoad` æ–¹æ³•
- âœ… ä½¿ç”¨ `Panels.RegisterPanel` æ³¨å†Œé¢æ¿

#### 2. æ­£ç¡®çš„ .NET ç›®æ ‡æ¡†æ¶

```xml
<TargetFramework>net7.0-windows</TargetFramework>
```

æ ¹æ® Rhino 8 æ–‡æ¡£ï¼š*"For Mac-specific plugins you can target .NET 7.0 as .NET Core is the only runtime available in Rhino 8."*

é¡¹ç›®æ­£ç¡®ä½¿ç”¨äº† `net7.0-windows`ï¼Œä¸ Rhino 8 å®Œå…¨å…¼å®¹ã€‚

#### 3. æ­£ç¡®çš„ IPanel æ¥å£å®ç°

```csharp
public class AIRenderPanelHost : System.Windows.Forms.UserControl, IPanel
```

ç¬¦åˆ RhinoCommon æ–‡æ¡£ï¼š*"Implement this interface to receive notifications when a panel is shown, hidden, or closed within the Rhino UI."*

#### 4. æ­£ç¡®ä½¿ç”¨ RhinoView.CaptureToBitmap

```csharp
using var bitmap = view.CaptureToBitmap(size, false, false, !transparentBg);
```

ç¬¦åˆ RhinoCommon APIï¼š`CaptureToBitmap(Size size, bool grid, bool worldAxes, bool cplaneAxes)`

#### 5. æ­£ç¡®ä½¿ç”¨ NamedViews API

```csharp
var namedViewIndex = doc.NamedViews.FindByName(viewName);
doc.NamedViews.Restore(namedViewIndex, view, true);
```

ç¬¦åˆ RhinoCommon API çš„å‘½åè§†å›¾æ“ä½œæ–¹æ³•ã€‚

---

## âœ… ä¼˜ç‚¹

### 1. æ¸…æ™°çš„æ¶æ„åˆ†å±‚

```text
AIRenderPanel/
â”œâ”€â”€ Bridge/        # æ¶ˆæ¯é€šä¿¡å±‚
â”œâ”€â”€ Providers/     # AI Provider æŠ½è±¡å±‚ï¼ˆå¯æ’æ‹”ï¼‰
â”œâ”€â”€ Services/      # ä¸šåŠ¡é€»è¾‘å±‚
â””â”€â”€ Host/Panel     # UI æ‰¿è½½å±‚
```

### 2. ä¼˜ç§€çš„ Provider æŠ½è±¡

```csharp
// src/AIRenderPanel/Providers/IImageProvider.cs
public interface IImageProvider
{
    string Name { get; }
    bool RequiresApiKey { get; }
    Task<GenerateResult> GenerateAsync(
        string prompt,
        byte[] referenceImage,
        int count,
        int width,
        int height,
        CancellationToken cancellationToken
    );
}
```

è¿™ç§è®¾è®¡ä½¿å¾—æ·»åŠ æ–°çš„ AI Providerï¼ˆå¦‚ Stable Diffusionã€DALL-E ç­‰ï¼‰éå¸¸ç®€å•ã€‚

### 3. å®Œå–„çš„å‰åç«¯ç±»å‹åŒæ­¥

- C# ç«¯ `BridgeMessage.cs` å®šä¹‰äº†å®Œæ•´çš„æ¶ˆæ¯ç±»å‹
- TypeScript ç«¯ `types/bridge.ts` æœ‰å¯¹åº”çš„ç±»å‹å®šä¹‰
- æ¶ˆæ¯åè®®æ¸…æ™°ï¼ŒåŒå‘é€šä¿¡å¯é 

### 4. ç²¾å¿ƒè®¾è®¡çš„ UI

- ç‘å£«å›½é™…ä¸»ä¹‰é£æ ¼çš„è®¾è®¡ç³»ç»Ÿ
- å“åº”å¼å¸ƒå±€
- æ·±è‰²ä¸»é¢˜å¯¹å»ºç­‘å¸ˆå‹å¥½

### 5. å¥å£®çš„é”™è¯¯å¤„ç†

- å¤šå¤„ try-catch
- å›é€€æœºåˆ¶ï¼ˆå¦‚ UI åŠ è½½å¤±è´¥æ˜¾ç¤ºé”™è¯¯é¡µé¢ï¼‰

---

## âš ï¸ éœ€è¦æ”¹è¿›çš„é—®é¢˜

### ğŸ¦ Rhino ç‰¹å®šé—®é¢˜

#### çº¿ç¨‹å®‰å…¨ - UI çº¿ç¨‹è®¿é—®

æ ¹æ® Rhino å®˜æ–¹æ–‡æ¡£ï¼š*"Applications can not update any user interface controls from any thread other than the main UI thread."*

**å½“å‰ä»£ç **ï¼ˆ`RhinoViewportService.cs`ï¼‰åœ¨å¼‚æ­¥ä¸Šä¸‹æ–‡ä¸­è®¿é—® `RhinoDoc.ActiveDoc`ï¼Œè¿™åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºè°ƒç”¨é“¾ä» UI çº¿ç¨‹å¼€å§‹ã€‚ä½†å»ºè®®æ·»åŠ æ˜¾å¼çš„çº¿ç¨‹æ£€æŸ¥ï¼š

```csharp
// æ¨èçš„å®‰å…¨æ¨¡å¼
if (!RhinoApp.InvokeRequired)
{
    // ç›´æ¥æ‰§è¡Œ
}
else
{
    RhinoApp.InvokeOnUiThread(() => { /* æ‰§è¡Œ */ });
}
```

**å½“å‰å®ç°è¯„ä¼°**: âœ… åŸºæœ¬å®‰å…¨ï¼ˆå› ä¸º WebView2 æ¶ˆæ¯å¤„ç†åœ¨ UI çº¿ç¨‹ï¼‰

---

### ğŸ”´ é«˜ä¼˜å…ˆçº§

#### 1. GeminiProvider æ˜¯ç©ºå£³å®ç°

**ä½ç½®**: `src/AIRenderPanel/Providers/GeminiProvider.cs` (Line 137-139)

```csharp
// ç›®å‰è¿”å›åŸå›¾ä½œä¸ºå ä½
RhinoApp.WriteLine("[AIæ¸²æŸ“] Gemini API å“åº”å·²æ”¶åˆ°ï¼ˆéª¨æ¶å®ç°ï¼šè¿”å›åŸå›¾ï¼‰");
return (referenceImage, Guid.NewGuid().ToString("N")[..8]);
```

**é—®é¢˜**: å½“å‰ä»£ç è°ƒç”¨ API åå¿½ç•¥å“åº”ï¼Œç›´æ¥è¿”å›åŸå›¾ã€‚

**å»ºè®®**: éœ€è¦å®ç°çœŸæ­£çš„ Gemini Imagen API æˆ–åˆ‡æ¢åˆ° Gemini 2.0 Flash çš„å›¾åƒç”Ÿæˆèƒ½åŠ›ã€‚

---

#### 2. API Key å®‰å…¨é—®é¢˜

**ä½ç½®**: `src/AIRenderPanel/Services/SettingsService.cs` (Line 56-59)

```csharp
var json = JsonConvert.SerializeObject(settings, Formatting.Indented);
File.WriteAllText(_settingsPath, json);
```

**é—®é¢˜**: API Key ä»¥æ˜æ–‡å­˜å‚¨åœ¨ JSON æ–‡ä»¶ä¸­ã€‚

**å»ºè®®**: ä½¿ç”¨ Windows DPAPI åŠ å¯†æ•æ„Ÿä¿¡æ¯ï¼š

```csharp
using System.Security.Cryptography;

var encrypted = ProtectedData.Protect(
    Encoding.UTF8.GetBytes(apiKey),
    null,
    DataProtectionScope.CurrentUser
);
```

---

#### 3. åˆ†è¾¨ç‡/æ¯”ä¾‹å‚æ•°æœªä¼ é€’åˆ°åç«¯

**ä½ç½®**: `src/web-ui/src/App.tsx` (Line 146-156)

```tsx
bridge.generate({
    // ...
    resolution,
    aspectRatio: aspectRatio || undefined,
} as any);  // âš ï¸ ä½¿ç”¨ as any ç»•è¿‡ç±»å‹æ£€æŸ¥
```

**é—®é¢˜**: å‰ç«¯ä¼ é€’äº† `resolution` å’Œ `aspectRatio`ï¼Œä½†åç«¯ `GenerateRequest` ç±»æ²¡æœ‰è¿™äº›å­—æ®µã€‚

**å»ºè®®**: åœ¨ C# çš„ `GenerateRequest` ä¸­æ·»åŠ å¯¹åº”å±æ€§ï¼š

```csharp
[JsonProperty("resolution")]
public string? Resolution { get; set; }

[JsonProperty("aspectRatio")]
public string? AspectRatio { get; set; }
```

---

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

#### 4. HistoryService é‡å¤åˆ›å»º SettingsService

**ä½ç½®**: `src/AIRenderPanel/Services/HistoryService.cs` (Line 19-21)

```csharp
public HistoryService()
{
    _settingsService = new SettingsService();  // âš ï¸ æ¯æ¬¡ new
}
```

**é—®é¢˜**: å¤šå¤„ `new SettingsService()` å¯¼è‡´åŒä¸€ä¸ªè®¾ç½®æ–‡ä»¶å¯èƒ½è¢«å¤šä¸ªå®ä¾‹è¯»å–ã€‚

**å»ºè®®**: ä½¿ç”¨ä¾èµ–æ³¨å…¥æˆ–å•ä¾‹æ¨¡å¼ã€‚

---

#### 5. HttpClient æœªå¤ç”¨

**ä½ç½®**: `src/AIRenderPanel/Providers/GeminiProvider.cs` (Line 26-29)

```csharp
public GeminiProvider(Func<string?> getApiKey)
{
    _httpClient = new HttpClient { Timeout = TimeSpan.FromMinutes(5) };
}
```

**é—®é¢˜**: è™½ç„¶ Provider æ˜¯å•ä¾‹å­˜å‚¨åœ¨ Dictionary ä¸­ï¼Œä½†å¦‚æœå°†æ¥åˆ›å»ºå¤šä¸ªå®ä¾‹ä¼šå¯¼è‡´ç«¯å£è€—å°½ã€‚

**å»ºè®®**: ä½¿ç”¨ `IHttpClientFactory` æˆ– `static readonly HttpClient`ã€‚

---

#### 6. useEffect ä¾èµ–è­¦å‘Š

**ä½ç½®**: `src/web-ui/src/App.tsx` (Line 111-118)

```tsx
useEffect(() => {
    const timer = setTimeout(() => {
        bridge.listNamedViews();  // âš ï¸ bridge æœªåœ¨ä¾èµ–æ•°ç»„ä¸­
        bridge.getSettings();
        bridge.getHistory();
    }, 100);
    return () => clearTimeout(timer);
}, []);  // ç©ºä¾èµ–æ•°ç»„
```

**å»ºè®®**: æ·»åŠ  `// eslint-disable-next-line react-hooks/exhaustive-deps` æˆ–æ­£ç¡®å¤„ç†ä¾èµ–ã€‚

---

### ğŸŸ¢ ä½ä¼˜å…ˆçº§/å»ºè®®

#### 7. ç¼ºå°‘å•å…ƒæµ‹è¯•

- æ²¡æœ‰å‘ç°ä»»ä½•æµ‹è¯•æ–‡ä»¶
- Providerã€Service å±‚éå¸¸é€‚åˆç¼–å†™å•å…ƒæµ‹è¯•

#### 8. ç¼ºå°‘æ—¥å¿—è®°å½•ç³»ç»Ÿ

- å½“å‰ä½¿ç”¨ `RhinoApp.WriteLine` è¾“å‡ºåˆ°å‘½ä»¤è¡Œ
- ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—ï¼ˆå¦‚ Serilogï¼‰

#### 9. å‰ç«¯å¸¸é‡ä¸åç«¯ä¸åŒæ­¥

- å‰ç«¯é»˜è®¤ provider æ˜¯ `'gemini-3-pro-image'`
- åç«¯é»˜è®¤æ˜¯ `'mock'`

#### 10. ç¼ºå°‘è¾“å…¥éªŒè¯

- Prompt é•¿åº¦æœªé™åˆ¶
- å›¾åƒå°ºå¯¸å‚æ•°æœªéªŒè¯è¾¹ç•Œ

---

## ğŸ“‹ æ”¹è¿›æ¸…å•

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | å¤æ‚åº¦ | çŠ¶æ€ |
|--------|------|--------|------|
| ğŸ”´ | å®ç°çœŸæ­£çš„ Gemini Imagen API | é«˜ | â³ å¾…å®Œæˆ |
| ğŸ”´ | åŠ å¯†å­˜å‚¨ API Key | ä¸­ | â³ å¾…å®Œæˆ |
| ğŸ”´ | åŒæ­¥ resolution/aspectRatio å‚æ•° | ä½ | â³ å¾…å®Œæˆ |
| ğŸŸ¡ | SettingsService å•ä¾‹åŒ– | ä½ | â³ å¾…å®Œæˆ |
| ğŸŸ¡ | HttpClient å¤ç”¨ | ä½ | â³ å¾…å®Œæˆ |
| ğŸŸ¡ | ä¿®å¤ React Hook ä¾èµ– | ä½ | â³ å¾…å®Œæˆ |
| ğŸŸ¢ | æ·»åŠ å•å…ƒæµ‹è¯• | ä¸­ | â³ å¾…å®Œæˆ |
| ğŸŸ¢ | æ·»åŠ ç»“æ„åŒ–æ—¥å¿— | ä¸­ | â³ å¾…å®Œæˆ |
| ğŸŸ¢ | ç»Ÿä¸€å‰åç«¯é»˜è®¤å€¼ | ä½ | â³ å¾…å®Œæˆ |

## âœ… Rhino å…¼å®¹æ€§éªŒè¯æ¸…å•

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| .NET 7.0 ç›®æ ‡æ¡†æ¶ | âœ… é€šè¿‡ | ç¬¦åˆ Rhino 8 è¦æ±‚ |
| PlugIn åŸºç±»ç»§æ‰¿ | âœ… é€šè¿‡ | æ­£ç¡®å®ç° |
| IPanel æ¥å£å®ç° | âœ… é€šè¿‡ | æ­£ç¡®å®ç° |
| GUID å±æ€§å®šä¹‰ | âœ… é€šè¿‡ | æ’ä»¶å’Œé¢æ¿éƒ½æœ‰å”¯ä¸€ GUID |
| RhinoView.CaptureToBitmap | âœ… é€šè¿‡ | æ­£ç¡®ä½¿ç”¨ API |
| NamedViews æ“ä½œ | âœ… é€šè¿‡ | æ­£ç¡®ä½¿ç”¨ FindByName/Restore |
| RhinoDoc.ActiveDoc ç©ºæ£€æŸ¥ | âœ… é€šè¿‡ | å·²å®ç° |
| UI çº¿ç¨‹å®‰å…¨ | âš ï¸ åŸºæœ¬å®‰å…¨ | å»ºè®®æ·»åŠ æ˜¾å¼æ£€æŸ¥ |
| WebView2 é›†æˆ | âœ… é€šè¿‡ | æ­£ç¡®åµŒå…¥ WinForms |

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„å›¾

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Rhino 8                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   AIRenderPanelPlugin                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚              AIRenderPanelHost (WinForms)            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                 WebView2                       â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚         React Web UI (Vite)             â”‚  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  - App.tsx (ä¸»ç•Œé¢)                     â”‚  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  - useBridge.ts (é€šä¿¡ Hook)             â”‚  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                          â–²                                 â”‚  â”‚
â”‚  â”‚                          â”‚ JSON Messages                   â”‚  â”‚
â”‚  â”‚                          â–¼                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚              MessageHandler (Bridge)                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - æ¶ˆæ¯è·¯ç”±                                          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - è¯·æ±‚åˆ†å‘                                          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                          â”‚                                 â”‚  â”‚
â”‚  â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚          â–¼               â–¼               â–¼                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚
â”‚  â”‚  â”‚ ViewCapture â”‚ â”‚  History    â”‚ â”‚  Settings   â”‚         â”‚  â”‚
â”‚  â”‚  â”‚  Service    â”‚ â”‚  Service    â”‚ â”‚  Service    â”‚         â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚
â”‚  â”‚          â”‚                                                 â”‚  â”‚
â”‚  â”‚          â–¼                                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚              ProviderManager                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚MockProvider â”‚  â”‚GeminiProviderâ”‚ â† å¯æ‰©å±•         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**æ¶æ„æ¸…æ™°ã€ä»£ç æ•´æ´ã€Rhino å…¼å®¹æ€§è‰¯å¥½**çš„æ’ä»¶é¡¹ç›®ã€‚

### Rhino 8 å…¼å®¹æ€§ç»“è®º

âœ… **å®Œå…¨å…¼å®¹ Rhino 8 è¿è¡Œç¯å¢ƒ**

- æ­£ç¡®ä½¿ç”¨ .NET 7.0 ç›®æ ‡æ¡†æ¶
- æ­£ç¡®å®ç° RhinoCommon APIï¼ˆPlugInã€IPanelã€ViewCapture ç­‰ï¼‰
- æ­£ç¡®å¤„ç† RhinoDoc å’Œ RhinoView å¯¹è±¡
- WebView2 åµŒå…¥æ–¹å¼ç¬¦åˆ WinForms é¢æ¿è§„èŒƒ

### ä¸»è¦å¾…å®Œæˆå·¥ä½œ

1. **å®ç°çœŸæ­£çš„ AI å›¾åƒç”ŸæˆåŠŸèƒ½**ï¼ˆå½“å‰æ˜¯ç©ºå£³ï¼‰
2. **åŠ å¼ºå®‰å…¨æ€§**ï¼ˆAPI Key åŠ å¯†ï¼‰
3. **å®Œå–„å‚æ•°ä¼ é€’é“¾è·¯**ï¼ˆåˆ†è¾¨ç‡/æ¯”ä¾‹ï¼‰

æ•´ä½“è€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ª**è‰¯å¥½çš„å¼€ç«¯**ï¼Œä»£ç è´¨é‡å€¼å¾—è‚¯å®šï¼Œåç»­æ‰©å±•æ€§å¾ˆå¼ºã€‚

---

## ğŸ“ å®¡æŸ¥äºº

AI Code Assistant

---

> æœ¬æŠ¥å‘Šç”±è‡ªåŠ¨åŒ–ä»£ç å®¡æŸ¥å·¥å…·ç”Ÿæˆ
