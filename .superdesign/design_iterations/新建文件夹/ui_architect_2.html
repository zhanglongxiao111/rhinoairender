<!DOCTYPE html>
<html lang="zh-CN" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SA&DAGA Architects - AI Render</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: "var(--background)",
                        surface: "var(--surface)",
                        foreground: "var(--foreground)",
                        border: "var(--border)",
                        accent: "var(--accent)",
                        "accent-fg": "var(--accent-fg)",
                        muted: "var(--muted)",
                    },
                    fontFamily: {
                        sans: ['"Helvetica Neue"', 'Helvetica', 'Arial', 'sans-serif'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    spacing: {
                        '18': '4.5rem',
                    }
                }
            }
        }
    </script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>

    <style>
        :root {
            /* Dark Mode Variables (Default) */
            --background: #121212;
            --surface: #1e1e1e;
            --foreground: #e0e0e0;
            --border: #333333;
            
            /* International Orange */
            --accent: #F04E30; 
            --accent-fg: #ffffff;
            
            --muted: #757575;
        }

        .light {
            --background: #ffffff;
            --surface: #f4f4f5;
            --foreground: #18181b;
            --border: #e4e4e7;
            --accent: #D63E23; 
            --accent-fg: #ffffff;
            --muted: #a1a1aa;
        }

        body {
            background-color: var(--background);
            color: var(--foreground);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        /* 绝对的直角 */
        * {
            border-radius: 0 !important;
        }

        /* Swiss Grid Lines */
        .swiss-grid-r { border-right: 1px solid var(--border); }
        .swiss-grid-l { border-left: 1px solid var(--border); }
        .swiss-grid-t { border-top: 1px solid var(--border); }
        .swiss-grid-b { border-bottom: 1px solid var(--border); }

        /* Typography Utilities */
        .type-h1 {
            font-weight: 700;
            letter-spacing: -0.02em;
            line-height: 1;
        }
        
        .type-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
            color: var(--muted);
        }

        .type-sub {
            font-family: 'JetBrains Mono', monospace;
            font-size: 9px;
            text-transform: uppercase;
            opacity: 0.6;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 4px;
            height: 4px;
        }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--border); }
        ::-webkit-scrollbar-thumb:hover { background: var(--muted); }

        /* Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
            height: 20px;
            cursor: pointer;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 1px;
            background: var(--border);
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 12px;
            width: 12px;
            background: var(--foreground);
            border: 1px solid var(--background);
            margin-top: -6px;
        }
        input[type=range]:hover::-webkit-slider-thumb {
            background: var(--accent);
        }

        /* Interaction States */
        .option-card.active {
            background-color: var(--foreground);
            color: var(--background);
            border-color: var(--foreground);
        }
        
        .aspect-ratio-box:hover {
            border-color: var(--foreground);
        }
        .aspect-ratio-box.active {
            background-color: var(--accent);
            border-color: var(--accent);
            color: var(--accent-fg);
        }

        /* Select Styling */
        select.swiss-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23757575' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.75rem center;
            background-repeat: no-repeat;
            background-size: 1.2em 1.2em;
        }
        
        /* Grid Pattern */
        .bg-grid-pattern {
            background-image: linear-gradient(var(--border) 1px, transparent 1px),
            linear-gradient(90deg, var(--border) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* Masonry Layout Logic */
        .masonry-col {
            break-inside: avoid;
            margin-bottom: 12px;
        }
        .masonry-wrapper {
            column-count: 2;
            column-gap: 12px;
        }
        
        /* Layout Transition */
        #history-container {
            transition: opacity 0.2s ease;
        }
    </style>
</head>
<body class="h-screen w-screen flex overflow-hidden text-sm selection:bg-accent selection:text-accent-fg">

    <!-- 左侧控制面板 (固定宽度 400px) -->
    <aside class="w-[400px] flex-shrink-0 flex flex-col bg-background swiss-grid-r z-30">
        
        <!-- HEADER -->
        <header class="p-8 pb-6 swiss-grid-b flex justify-between items-start">
            <div>
                <h1 class="type-h1 text-2xl mb-2 tracking-tight">SA&DAGA<br>ARCHITECTS</h1>
                <div class="flex items-center gap-3">
                    <span class="type-label text-foreground border border-foreground px-1 py-px">BETA</span>
                    <span class="type-label">AI RENDER v2.0</span>
                </div>
            </div>
            <!-- Theme Toggle -->
            <button id="theme-btn" class="w-8 h-8 flex items-center justify-center border border-border hover:border-foreground transition-colors text-muted hover:text-foreground">
                <i data-lucide="sun-moon" class="w-4 h-4"></i>
            </button>
        </header>

        <!-- SCROLLABLE CONTROLS -->
        <div class="flex-1 overflow-y-auto">
            
            <!-- PROMPT INPUT -->
            <div class="p-8 swiss-grid-b">
                <div class="flex justify-between items-baseline mb-3">
                    <label class="type-label text-accent">提示词 / Prompt</label>
                    <span class="type-sub">CMD + ENTER</span>
                </div>
                <div class="relative group">
                    <textarea 
                        class="w-full bg-surface p-4 min-h-[140px] resize-none focus:outline-none border border-transparent focus:border-accent transition-colors font-mono text-xs leading-relaxed text-foreground placeholder-muted/50"
                        placeholder="// 在此处输入建筑场景描述...&#10;> 现代主义混凝土别墅&#10;> 瑞士阿尔卑斯山脉环境&#10;> 清晨柔和的漫射光"
                    ></textarea>
                </div>
            </div>

            <!-- PARAMETERS SECTION -->
            <div class="swiss-grid-b">
                
                <!-- Source & Size -->
                <div class="p-6 swiss-grid-b">
                    <!-- Source Selection -->
                     <label class="type-label block mb-3">视图来源 / Source</label>
                     <div class="flex gap-2 mb-4">
                        <button class="flex-1 option-card active p-2 text-xs font-medium border border-border transition-colors text-center group">
                            当前视口
                            <span class="block type-sub group-hover:opacity-100 transition-opacity">Active Viewport</span>
                        </button>
                        <button class="flex-1 option-card bg-transparent p-2 text-xs font-medium border border-border hover:border-foreground transition-colors text-center group">
                            命名视图
                            <span class="block type-sub group-hover:opacity-100 transition-opacity">Named View</span>
                        </button>
                     </div>

                     <!-- Preview Capture Action -->
                     <div class="mb-6">
                        <button class="w-full py-2 border border-dashed border-border hover:border-accent hover:text-accent transition-colors flex items-center justify-center gap-2 text-xs">
                            <i data-lucide="scan-eye" class="w-4 h-4"></i>
                            <span>截取当前视图预览 / Capture Preview</span>
                        </button>
                     </div>
                        
                    <!-- Input Size -->
                    <div>
                        <label class="type-label block mb-3">基础尺寸 / Base Size</label>
                        <select class="swiss-select w-full bg-background border border-border p-2 text-xs font-mono focus:outline-none focus:border-foreground">
                            <option>视口原尺寸 / Native</option>
                            <option>1920px (FHD)</option>
                            <option>2560px (2K)</option>
                            <option>3840px (4K)</option>
                        </select>
                    </div>
                </div>

                <!-- Mode & Quality -->
                <div class="p-6 swiss-grid-b">
                     <label class="type-label block mb-3">生成引擎 / Engine Mode</label>
                     <div class="grid grid-cols-2 gap-4">
                        <button class="option-card active p-4 border border-border transition-colors text-left group">
                            <span class="block text-xs font-bold mb-1">专业模式 PRO</span>
                            <span class="block type-sub group-hover:opacity-100">高画质 · 4K<br>Gemini 3 Pro</span>
                        </button>
                        <button class="option-card bg-transparent p-4 border border-border hover:border-foreground transition-colors text-left group">
                            <span class="block text-xs font-bold mb-1">快速模式 FLASH</span>
                            <span class="block type-sub group-hover:opacity-100">极速预览<br>Gemini 2.5</span>
                        </button>
                    </div>
                </div>

                <!-- Output Specs -->
                <div class="grid grid-cols-2">
                    <!-- Resolution -->
                    <div class="p-6 swiss-grid-r swiss-grid-b">
                        <label class="type-label block mb-3">输出分辨率 / Res</label>
                        <div class="space-y-3">
                             <label class="flex items-center gap-3 cursor-pointer group select-none">
                                <div class="w-3 h-3 border border-border group-hover:border-foreground flex items-center justify-center transition-colors">
                                    <div class="w-1.5 h-1.5 bg-foreground opacity-0 active-check"></div>
                                </div>
                                <span class="font-mono text-xs text-muted group-hover:text-foreground transition-colors">1K</span>
                            </label>
                            <label class="flex items-center gap-3 cursor-pointer group select-none">
                                <div class="w-3 h-3 border border-border group-hover:border-foreground flex items-center justify-center transition-colors">
                                    <div class="w-1.5 h-1.5 bg-foreground opacity-0 active-check"></div>
                                </div>
                                <span class="font-mono text-xs text-muted group-hover:text-foreground transition-colors">2K</span>
                            </label>
                            <label class="flex items-center gap-3 cursor-pointer group select-none">
                                <div class="w-3 h-3 border border-foreground flex items-center justify-center">
                                    <div class="w-1.5 h-1.5 bg-foreground"></div>
                                </div>
                                <span class="font-mono text-xs font-bold">4K</span>
                            </label>
                        </div>
                    </div>

                    <!-- Count -->
                    <div class="p-6 swiss-grid-b">
                        <label class="type-label block mb-3">数量 / Count</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button class="h-8 border border-border hover:border-foreground text-xs font-mono transition-colors">1</button>
                            <button class="h-8 bg-foreground text-background border border-foreground text-xs font-mono font-bold">2</button>
                            <button class="h-8 border border-border hover:border-foreground text-xs font-mono transition-colors">3</button>
                            <button class="h-8 border border-border hover:border-foreground text-xs font-mono transition-colors">4</button>
                        </div>
                    </div>
                </div>

                <!-- Aspect Ratio Grid -->
                <div class="p-6 swiss-grid-b">
                    <label class="type-label block mb-4">画幅比例 / Aspect Ratio</label>
                    <div class="grid grid-cols-5 gap-2">
                        <!-- Row 1 -->
                        <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group" title="Auto">
                            <span class="text-[9px] font-mono group-hover:font-bold">AUTO</span>
                        </button>
                        <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono group-hover:font-bold">1:1</span>
                        </button>
                         <button class="aspect-ratio-box active col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono font-bold">16:9</span>
                        </button>
                         <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono group-hover:font-bold">9:16</span>
                        </button>
                         <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono group-hover:font-bold">4:3</span>
                        </button>
                        
                        <!-- Row 2 -->
                         <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono group-hover:font-bold">3:4</span>
                        </button>
                         <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono group-hover:font-bold">3:2</span>
                        </button>
                         <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono group-hover:font-bold">2:3</span>
                        </button>
                         <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono group-hover:font-bold">4:5</span>
                        </button>
                         <button class="aspect-ratio-box col-span-1 py-2 border border-border transition-colors group">
                            <span class="text-[9px] font-mono group-hover:font-bold">5:4</span>
                        </button>
                        
                        <!-- Row 3 (Wide) -->
                         <button class="aspect-ratio-box col-span-5 py-2 border border-border transition-colors group flex items-center justify-center gap-2">
                            <span class="text-[9px] font-mono group-hover:font-bold">21:9 CINEMATIC</span>
                        </button>
                    </div>
                </div>

                <!-- Sliders -->
                <div class="p-6">
                    <div class="mb-2">
                         <div class="flex justify-between mb-3">
                             <label class="type-label">对比度 / Contrast <span class="text-muted font-normal normal-case ml-1">(Flash Only)</span></label>
                             <span class="font-mono text-xs text-accent">-92%</span>
                        </div>
                        <input type="range" class="w-full" min="-100" max="0" value="-92">
                    </div>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <div class="p-6 mt-auto bg-background swiss-grid-t flex gap-3">
            <button class="w-12 h-12 border border-border hover:border-foreground flex items-center justify-center transition-colors" title="Settings">
                <i data-lucide="settings-2" class="w-5 h-5 text-muted hover:text-foreground transition-colors"></i>
            </button>
            <button class="flex-1 h-12 bg-accent text-accent-fg hover:opacity-90 active:translate-y-[1px] transition-all flex items-center justify-between px-6 font-bold tracking-wide uppercase text-sm">
                <span>开始渲染 / Render</span>
                <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </button>
        </div>
    </aside>

    <!-- 中间：画布区域 (自适应) -->
    <main class="flex-1 bg-surface relative flex flex-col min-w-0 z-10">
        <!-- Toolbar -->
        <div class="h-14 swiss-grid-b bg-background flex justify-between items-center px-6">
            <div class="flex items-center gap-6">
                <div class="flex items-center gap-2 text-xs font-mono text-muted">
                    <i data-lucide="folder" class="w-3 h-3"></i>
                    <span>PROJECT_VILLA_01.3DM</span>
                </div>
                <div class="h-4 w-px bg-border"></div>
                <!-- Status Indicator -->
                <div class="flex items-center gap-2 text-xs font-mono">
                    <span class="text-accent animate-pulse">●</span>
                    <span>LIVE</span>
                </div>
            </div>
            
            <div class="flex items-center gap-3">
                 <div class="flex bg-surface border border-border">
                    <!-- Toggle Buttons -->
                    <button class="px-3 py-2 bg-foreground text-background text-xs font-bold uppercase transition-colors">
                        Render
                    </button>
                    <div class="w-px bg-background"></div>
                    <button class="px-3 py-2 hover:bg-background hover:text-foreground text-xs font-bold uppercase text-muted transition-colors">
                        Source
                    </button>
                    <div class="w-px bg-border"></div>
                    <button class="p-2 hover:bg-background hover:text-foreground text-muted" title="Compare"><i data-lucide="columns" class="w-4 h-4"></i></button>
                </div>
            </div>
        </div>

        <!-- Canvas -->
        <div class="flex-1 overflow-hidden relative flex items-center justify-center p-12 bg-grid-pattern">
            
            <!-- Main Display Wrapper -->
            <div class="relative shadow-[0_0_50px_rgba(0,0,0,0.5)] max-w-full max-h-full border border-border/50 group bg-black">
                
                <!-- Status Label (Top Left) -->
                <div class="absolute top-0 left-0 bg-accent text-accent-fg px-3 py-1 text-[10px] font-bold uppercase tracking-wider z-20">
                    AI Render Preview
                </div>

                <!-- Image -->
                <img src="https://images.unsplash.com/photo-1600607686527-6fb886090705?q=80&w=2400&auto=format&fit=crop" 
                     class="max-w-full max-h-[calc(100vh-180px)] block opacity-90 group-hover:opacity-100 transition-opacity"
                     alt="Render"
                >

                <!-- Actions Overlay (Bottom) -->
                <div class="absolute bottom-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-2 group-hover:translate-y-0 flex gap-4 z-20">
                    <button class="bg-background text-foreground border border-foreground px-6 py-2 text-xs font-bold hover:bg-foreground hover:text-background transition-colors uppercase tracking-widest">
                        放大查看 / Expand
                    </button>
                    <button class="bg-accent text-accent-fg px-6 py-2 text-xs font-bold hover:opacity-90 transition-colors uppercase tracking-widest">
                        下载 / Download
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- 右侧：历史记录 -->
    <aside class="w-[300px] flex-shrink-0 bg-background swiss-grid-l flex flex-col z-20">
        <div class="p-6 swiss-grid-b h-[113px] flex items-end justify-between">
            <div>
                <h2 class="type-h1 text-lg mb-1">SESSION<br>HISTORY</h2>
                <span class="type-label">DEC 17, 2025</span>
            </div>
            <!-- View Toggle -->
            <div class="flex gap-1">
                 <button id="view-list" class="p-1 text-foreground" title="List View"><i data-lucide="list" class="w-4 h-4"></i></button>
                 <button id="view-grid" class="p-1 text-muted hover:text-foreground" title="Masonry View"><i data-lucide="layout-dashboard" class="w-4 h-4"></i></button>
            </div>
        </div>
        
        <div class="flex-1 overflow-y-auto p-6" id="history-scroll">
            
            <!-- Container for switching -->
            <div id="history-container" class="space-y-6">
                <!-- Content injected by JS below -->
            </div>

        </div>
    </aside>

    <script>
        lucide.createIcons();

        // Theme Toggle Logic
        const themeBtn = document.getElementById('theme-btn');
        const html = document.documentElement;
        
        themeBtn.addEventListener('click', () => {
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                html.classList.add('light');
            } else {
                html.classList.remove('light');
                html.classList.add('dark');
            }
        });

        // ---------------------------------------------------------
        // History View Switcher Logic (Mock Data)
        // ---------------------------------------------------------
        
        const historyData = [
            { id: 1, img: "https://images.unsplash.com/photo-1600607686527-6fb886090705?q=80&w=400", title: "Modern Concrete Villa", time: "14:20", tags: "PRO · 4K · 16:9", aspect: "aspect-video" },
            { id: 2, img: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=400", title: "Interior Hallway", time: "14:15", tags: "FLASH · 2K · 4:3", aspect: "aspect-[4/3]" },
            { id: 3, img: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=400", title: "Facade Detail", time: "13:50", tags: "PRO · 1K · 1:1", aspect: "aspect-square" },
            { id: 4, img: "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?q=80&w=400", title: "Garden View", time: "13:42", tags: "FLASH · 2K · 9:16", aspect: "aspect-[9/16]" },
            { id: 5, img: "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?q=80&w=400", title: "Night Scene", time: "13:30", tags: "PRO · 4K · 21:9", aspect: "aspect-[21/9]" },
        ];

        const container = document.getElementById('history-container');
        const btnList = document.getElementById('view-list');
        const btnGrid = document.getElementById('view-grid');
        let currentView = 'list';

        function renderList() {
            container.className = "space-y-6"; // Vertical stack
            container.innerHTML = historyData.map(item => `
                <div class="group cursor-pointer">
                    <div class="relative ${item.aspect} bg-surface border border-transparent group-hover:border-foreground mb-3 overflow-hidden transition-colors">
                        <img src="${item.img}" class="w-full h-full object-cover">
                    </div>
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="block text-xs font-bold mb-1">${item.title}</span>
                            <span class="block type-sub text-muted">${item.tags}</span>
                        </div>
                        <span class="type-sub text-muted">${item.time}</span>
                    </div>
                </div>
            `).join('');
            
            // Update buttons
            btnList.classList.remove('text-muted');
            btnList.classList.add('text-foreground');
            btnGrid.classList.remove('text-foreground');
            btnGrid.classList.add('text-muted');
        }

        function renderGrid() {
            container.className = "masonry-wrapper"; // CSS Columns for Masonry
            container.innerHTML = historyData.map(item => `
                <div class="masonry-col group cursor-pointer break-inside-avoid mb-3">
                    <div class="relative w-full bg-surface border border-transparent group-hover:border-accent overflow-hidden transition-colors">
                        <img src="${item.img}" class="w-full h-auto object-cover block">
                        <div class="absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity">
                            <span class="text-[9px] font-mono text-white">${item.time}</span>
                        </div>
                    </div>
                </div>
            `).join('');

            // Update buttons
            btnGrid.classList.remove('text-muted');
            btnGrid.classList.add('text-foreground');
            btnList.classList.remove('text-foreground');
            btnList.classList.add('text-muted');
        }

        // Initial Render
        renderList();

        // Events
        btnList.addEventListener('click', () => {
            if(currentView === 'list') return;
            container.style.opacity = '0';
            setTimeout(() => {
                renderList();
                currentView = 'list';
                container.style.opacity = '1';
            }, 200);
        });

        btnGrid.addEventListener('click', () => {
             if(currentView === 'grid') return;
            container.style.opacity = '0';
            setTimeout(() => {
                renderGrid();
                currentView = 'grid';
                container.style.opacity = '1';
            }, 200);
        });

    </script>
</body>
</html>